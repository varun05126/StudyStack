{% extends "core/base.html" %}
{% block content %}

<h1>ğŸ‘¤ My Profile</h1>
<p>Your central learning identity on StudyStack.</p>

<div class="grid-2">

  <div class="card">
    <h2>ğŸ”¥ Study Identity</h2>
    <p><b>Username:</b> {{ request.user.username }}</p>
    <p><b>Email:</b> {{ request.user.email }}</p>
    <p><b>Current streak:</b> {{ streak.current_streak }} days</p>
    <p><b>Longest streak:</b> {{ streak.longest_streak }} days</p>
  </div>

  <div class="card">
    <h2>ğŸ¯ Learning Goals</h2>
    {% for g in goals %}
      <p>â€¢ {{ g.title }}</p>
    {% empty %}
      <p>No learning goals yet.</p>
    {% endfor %}
    <br>
    <a class="btn-primary" href="{% url 'learning_goals' %}">Manage goals</a>
  </div>

</div>

<br>

<div class="card">
  <h3>ğŸ”— Connected Platforms</h3>
<p>StudyStack will become your learning control center.</p>

<ul>
{% for p in platforms %}
    <li>
        {% if p.slug == "github" %}ğŸ™{% endif %}
        {% if p.slug == "leetcode" %}ğŸ“˜{% endif %}
        {% if p.slug == "codeforces" %}âš”ï¸{% endif %}
        {% if p.slug == "hackerrank" %}âš¡{% endif %}
        {% if p.slug == "gfg" %}ğŸ“—{% endif %}

        {{ p.name }} â€”
        {% if p.connected %}
            <b style="color:green;">Connected</b>
            {% if p.slug == "github" %}
                | <a href="{% url 'sync_github' %}">Sync now</a>
            {% endif %}
        {% else %}
            <span style="color:red;">Not connected</span>
            {% if p.slug == "github" %}
                | <a href="{% url 'github_connect' %}">Connect</a>
            {% endif %}
        {% endif %}
    </li>
{% endfor %}
</ul>
</div>

{% endblock %}
